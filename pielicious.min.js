!function(){"use strict";var n,e=["log","info","warn","error","debug","trace","dir","group","groupCollapsed","groupEnd","time","timeEnd","profile","profileEnd","dirxml","assert","count","markTimeline","timeStamp","clear"],t=function(){};for(window&&!window.console&&(window.console={}),n=0;n<e.length;n+=1)window.console[e[n]]||(window.console[e[n]]=t)}(),function(){"use strict";function n(n,e,t,a,i){function l(n){return F?new he(n,x).gradient(I,L):n}function r(n,e,t){var a={stroke:R,"stroke-width":1.5,"stroke-linejoin":"round",fill:l(e.color),title:e.title,cursor:K};return a[n]=t,a}function o(n){var i=ne/4,l=[n.shiftX,n.shiftY,a,n.startAngle,n.endAngle],r=[n.startX,n.startY,a,n.startAngle,n.endAngle],o={transform:"s1.1 1.1 "+le+" "+re},s={transform:"s1 1 "+le+" "+re},c={transform:"T"+(n.shiftX-e)+", "+(n.shiftY-t)},h={transform:"T 0, 0"},w=Raphael.animation(c,i),u=Raphael.animation(h,i);"shift-fast"===V?new ce(n,W,w,u,{arc:w,wallOne:w,wallTwo:w},{arc:u,wallOne:u,wallTwo:u}).bind():V===Z?(w=Raphael.animation(c,ne,Z),u=Raphael.animation(h,ne,Z),new ce(n,W,w,u,{arc:w,wallOne:w,wallTwo:w},{arc:u,wallOne:u,wallTwo:u}).bind()):"shift-slow"===V?(w=Raphael.animation(c,ne),u=Raphael.animation(h,ne),new ce(n,W,w,u,{arc:w,wallOne:w,wallTwo:w},{arc:u,wallOne:u,wallTwo:u}).bind()):"shift-bounce"===V?new ce(n,W,Raphael.animation({slice:l},i),Raphael.animation({slice:r},ne,v),{arc:Raphael.animation({arc:l},i),wallOne:Raphael.animation({wall:[n.shiftX,n.shiftY,a,n.startAngle]},i),wallTwo:Raphael.animation({wall:[n.shiftX,n.shiftY,a,n.endAngle]},i)},{arc:Raphael.animation({arc:r},ne,v),wallOne:Raphael.animation({wall:[n.startX,n.startY,a,n.startAngle]},ne,v),wallTwo:Raphael.animation({wall:[n.startX,n.startY,a,n.endAngle]},ne,v)}).bind():"scale"===V?new ce(n,W,o,s,{arc:o,wallOne:o,wallTwo:o},{arc:s,wallOne:s,wallTwo:s}).bind():"scale-bounce"===V?new ce(n,W,o,Raphael.animation(s,ne,v),{arc:o,wallOne:o,wallTwo:o},{arc:Raphael.animation(s,ne,v),wallOne:Raphael.animation(s,ne,v),wallTwo:Raphael.animation(s,ne,v)}).bind():"outline"===V?(n.slice.mouseover(function(){n.slice.outline.show(),n.slice.outline.toFront()}),n.slice.mouseout(function(){n.slice.outline.hide()})):V&&""!==V&&console.error("Unknown hover effect name: "+V)}function s(e){if(""!==e.label){q+=10;var t,a=9,i=null,l={title:e.label,fill:e.color,"fill-rule":"nonzero",stroke:R,"stroke-width":"0.1",cursor:K};"rect"===N?i=n.path("M "+G+", "+P+" l 28,0  0,16  -28,0  0,-16z"):"circle"===N?i=n.circle(G+2*a,P+a,a):"ellipse"===N&&(a=10,i=n.ellipse(G+2*a,P+a,1.25*a,.75*a)),i&&(i.attr(l),i.handle=e.handle,te.push(i)),t=n.text(U,q,e.label),t.attr({title:e.label,"font-family":J,"font-weight":"normal",fill:"#474747",cursor:K,"font-size":H,"text-anchor":"start"}),t.handle=e.handle,ae.push(t),P+=30,q=P}}i=i||{};var c,h,w,u,f,g,d,m,O,p,A,b,T,M=Math.PI/180,R="#ffffff",v="bounce",k="backOut",Z="elastic",y=i.data||[],F=i.gradient&&"object"==typeof i.gradient||!1,I=F&&i.gradient.darkness?i.gradient.darkness:0,L=F&&i.gradient.lightness?i.gradient.lightness:0,x=F&&i.gradient.degrees?Math.abs(i.gradient.degrees):180,X=i.colors||[],Y=i.titles||[],D=i.handles||[],B=i.hrefs||[],W=i.threeD&&"object"==typeof i.threeD||!1,j=W&&i.threeD.height?Math.abs(i.threeD.height):25,z=i.donut&&"object"==typeof i.donut||!1,E=z&&i.donut.diameter?Math.abs(i.donut.diameter)>.9?.9:Math.abs(i.donut.diameter):.5,S=i.legend&&"object"==typeof i.legend||!1,C=S&&i.legend.labels?i.legend.labels:[],G=S&&i.legend.x?i.legend.x:e+a+30,P=S&&i.legend.y?i.legend.y:t-a,U=G+38,q=P,H=S&&i.legend.fontSize?i.legend.fontSize:"14",J=S&&i.legend.fontFamily?i.legend.fontFamily:"Arial",K=i.cursor||"normal",N=i.marker||"circle",Q=i.evolution||!1,V=i.easing||"",$=W?15:10,_=0,ne=600,ee=n.set(),te=n.set(),ae=n.set(),ie=[],le=e,re=t,oe=0,se=oe,ce=function n(e,t,a,i,l,r){return this instanceof n?(this.bucket=e,this.threeD=t,this.slice=e.slice,this.arc=e.arc,this.wallOne=e.wallOne,this.wallTwo=e.wallTwo,this.sliceAnimationOut=a,this.sliceAnimationIn=i,this.bordersAnimationOut=l,void(this.bordersAnimationIn=r)):new n(e,t,a,i,l,r)},he=function n(e,t){if(!(this instanceof n))return new n(e,t);var a=t,i=Raphael.getRGB(e),l=function(){var n,e,t=i.r/255,a=i.g/255,l=i.b/255,r=Math.max(t,a,l),o=Math.min(t,a,l),s=(r+o)/2,c=r-o;return r===o?n=e=0:(e=s>.5?c/(2-r-o):c/(r+o),r===t?n=(a-l)/c+(l>a?6:0):r===a?n=(l-t)/c+2:r===l&&(n=(t-a)/c+4),n/=6),{h:n,s:e,l:s}},r=function(n){n=0===n||0>n?0:n||10;var e=l();return e.l+=n/100,e.l=Math.min(1,Math.max(0,e.l)),Raphael.hsl2rgb(e.h,e.s,e.l)},o=function(n){n=0===n||0>n?0:n||10;var e=l();return e.l-=n/100,e.l=Math.min(1,Math.max(0,e.l)),Raphael.hsl2rgb(e.h,e.s,e.l)};this.gradient=function(n,e){return a+"-"+o(n)+"-"+r(e)}},we=function n(e){if(!(this instanceof n))return new n(e);var t=e,a=t.customAttributes||{},i=function(n,e,t){return n+e*Math.cos(t*M)},l=function(n,e,t,a){return n+e*Math.cos((t+(a-t))*M)},r=function(n,e,t){return n+e*Math.sin(t*M)},o=function(n,e,t,a){return n+e*Math.sin((t+(a-t))*M)};this.configure=function(){a.slice=function(n,e,t,a,s){if(0===a&&0===s)return[];var c=W?t/2:t,h=t*E,w=c*E,u=i(n,h,a),f=r(e,w,a),g=i(n,t,a),d=r(e,c,a),m=i(n,t,s),O=r(e,c,s),p=l(n,h,a,s),A=o(e,w,a,s),b=Math.abs(s-a)>180,T=1;return z&&!W?{path:[["M",u,f],["L",g,d],["A",t,c,0,+b,1,m,O],["L",p,A],["A",h,w,0,+b,0,u,f],["Z"]]}:{path:[["M",n,e],["L",g,d],["A",t,c,0,+b,T,m,O],["Z"]]}},a.arc=function(n,e,t,a,s){if(0===a&&0===s)return[];180>a&&s>180&&(s=180);var c=W?t/2:t,h=i(n,t,a),w=r(e,c,a),u=r(e+j,c,a),f=l(n,t,a,s),g=o(e,c,a,s),d=o(e+j,c,a,s),m=Math.abs(s-a)>180,O=1,p=0;return{path:[["M",h,w],["L",h,u],["A",t,c,0,+m,O,f,d],["L",f,g],["A",t,c,0,+m,p,h,w],["Z"]]}},a.outline=function(n,e,t,a,s){var c=t+(W?3:1),h=W?c/2:c,w=c+(W?14:10),u=h+(W?6:10),f=i(n,c,a),g=r(e,h,a),d=i(n,w,a),m=r(e,u,a),O=l(n,c,a,s),p=o(e,h,a,s),A=l(n,w,a,s),b=o(e,u,a,s),T=Math.abs(s-a)>180;return{path:[["M",f,g],["L",d,m],["A",w,u,0,+T,1,A,b],["L",O,p],["A",c,h,0,+T,0,f,g],["Z"]]}},a.wall=function(n,e,t,a){if(0===a)return[];var l=W?t/2:t,o=i(n,t,a),s=r(e,l,a);return{path:[["M",n,e],["L",n,e+j],["L",o,s+j],["L",o,s],["Z"]]}}}};for(ce.prototype={bind:function(){var n=this,e=function(){n.slice.stop(),n.slice.animate(n.sliceAnimationOut),n.threeD&&(n.arc.stop(),n.wallOne.stop(),n.wallTwo.stop(),n.arc.animateWith(n.slice,n.sliceAnimationOut,n.bordersAnimationOut.arc),n.wallOne.animateWith(n.slice,n.sliceAnimationOut,n.bordersAnimationOut.wallOne),n.wallTwo.animateWith(n.slice,n.sliceAnimationOut,n.bordersAnimationOut.wallTwo),n.bucket.startAngle>=0&&n.bucket.startAngle<180?(n.arc.toFront(),n.slice.toFront()):n.arc.toBack())},t=function(){n.slice.animate(n.sliceAnimationIn),n.threeD&&(n.arc.animateWith(n.slice,n.sliceAnimationIn,n.bordersAnimationIn.arc),n.wallOne.animateWith(n.slice,n.sliceAnimationIn,n.bordersAnimationIn.wallOne),n.wallTwo.animateWith(n.slice,n.sliceAnimationIn,n.bordersAnimationIn.wallTwo))};this.slice.mouseover(e),this.slice.mouseout(t),n.threeD&&(this.arc.mouseover(e),this.arc.mouseout(t))}},new we(n).configure(),c=0;c<y.length;c+=1)_+=y[c];for(c=0;c<y.length;c+=1)ie[c]={},f=y[c]||0,g=X[c]||"#FF0000",d=C[c]||"",m=Y[c]||"",O=B[c]||"",p=D[c]||"",A=360*f/_,se=oe,oe=se+A,b=le+$*Math.cos((se+(oe-se)/2)*M),T=re+$*Math.sin((se+(oe-se)/2)*M),ie[c].color=g,ie[c].label=d,ie[c].title=m,ie[c].href=O,ie[c].handle=p,ie[c].startAngle=se,ie[c].endAngle=oe,ie[c].startX=le,ie[c].startY=re,ie[c].shiftX=b,ie[c].shiftY=T,ie[c].sliceOrigin=[le,re,a,se,oe],ie[c].sliceOriginZero=[le,re,a,0,0],W&&(ie[c].arcOrigin=ie[c].sliceOrigin,ie[c].wallOneOrigin=[le,re,a,se],ie[c].wallTwoOrigin=[le,re,a,oe],ie[c].arcOriginZero=ie[c].sliceOriginZero,ie[c].wallOneOriginZero=[le,re,a,0],ie[c].wallTwoOriginZero=[le,re,a,0]);for(c=0;c<y.length;c+=1)w=ie[c],W&&(ie[c].wallOne=n.path().attr(r("wall",w,Q?w.wallOneOriginZero:w.wallOneOrigin)),ie[c].wallTwo=n.path().attr(r("wall",w,Q?w.wallTwoOriginZero:w.wallTwoOrigin)),ie[c].arc=n.path().attr(r("arc",w,Q?w.arcOriginZero:w.arcOrigin))),ie[c].slice=n.path().attr(r("slice",w,Q?w.sliceOriginZero:w.sliceOrigin)),ie[c].slice.handle=ie[c].handle,-1!==V.indexOf("outline")&&(u=n.path().attr(r("outline",w,ie[c].sliceOrigin)),ie[c].slice.outline=u,u.hide()),ee.push(ie[c].slice),o(ie[c]),s(ie[c]);if(W)for(c=0;c<y.length;c+=1)w=ie[c],w.startAngle>=90&&w.startAngle<270?(ie[c].wallOne.toBack(),ie[c].wallTwo.toBack()):w.endAngle>270&&w.endAngle<=360?ie[c].wallOne.toBack():w.endAngle>0&&w.endAngle<90&&ie[c].wallTwo.toFront(),w.startAngle>=0&&w.startAngle<180?ie[c].arc.toFront():ie[c].arc.toBack(),ie[c].slice.toFront();return Q&&(h=window.setTimeout(function(){for(c=0;c<ie.length;c+=1)ie[c].slice.animate({slice:ie[c].sliceOrigin},ne,k),W&&(ie[c].arc.animate({arc:ie[c].arcOrigin},ne,k),ie[c].wallOne.animate({wall:ie[c].wallOneOrigin},ne,k),ie[c].wallTwo.animate({wall:ie[c].wallTwoOrigin},ne,k));window.clearTimeout(h)},200)),{slices:ee.items,markers:te.items,descriptions:ae.items}}Raphael.fn.pielicious=function(e,t,a,i){return new n(this,e,t,a,i)}}();
