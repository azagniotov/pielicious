(function(){function a(d,z,y,U,J){J=J||{};var h=(Math.PI/180),D="#ffffff",Y=J.data||[],T=J.colors||[],E=J.hoverTitles||[],G=J.sliceHandles||[],v=J.legendLabels||[],j=J.hrefs||[],F=J.legendXstart||z+U+30,ad=J.legendYstart||y-U,b=F+38,I=ad,g=J.donut||false,A=J.exploded||false,k=6,i=J.cursor||"normal",aa=J.marker||"circle",c=J.fontFamily||"Arial",w=J.fontSize||"14",x=J.donutFill||D,u=Math.abs(J.donutDiameter)||0.5,R=J.growingOnLoad||false,n=J.sliceHoverEffect||"",M=0,s=500,q=d.set(),Z=d.set(),B=d.set(),ac={},P;for(P=0;P<Y.length;P++){M+=Y[P]}d.customAttributes.slice=function(aj,ai,ae,ak,ah){var ag=aj+ae*Math.cos(ak*h),af=aj+ae*Math.cos(ah*h),an=ai+ae*Math.sin(ak*h),am=ai+ae*Math.sin(ah*h),al=(Math.abs(ah-ak)>180);return{path:[["M",aj,ai],["L",ag,an],["A",ae,ae,0,+al,1,af,am],["z"]]}};d.customAttributes.outline=function(al,aj,af,an,ah){var aq=af+1,ak=af+10,ai=al+aq*Math.cos(an*h),ap=aj+aq*Math.sin(an*h),ag=al+ak*Math.cos(an*h),ae=aj+ak*Math.sin(an*h),am=al+aq*Math.cos((an+(ah-an))*h),au=aj+aq*Math.sin((an+(ah-an))*h),at=al+ak*Math.cos((an+(ah-an))*h),ar=aj+ak*Math.sin((an+(ah-an))*h),ao=(Math.abs(ah-an)>180);return{path:[["M",ai,ap],["L",ag,ae],["A",ak,ak,0,+ao,1,at,ar],["L",am,au],["A",aq,aq,0,+(ao),0,ai,ap],["z"]]}};for(P=0;P<Y.length;P++){var S=Y[P]||0,L=T[P]||"#FF0000",V=v[P]||"",N=E[P]||"",C=j[P]||"",p=G[P]||"",O=360*S/M,X=(P===0?0:X),l=X,X=l+O,ab=(R===true?[z,y,U,0,0]:[z,y,U,l,X]),t=d.path().attr({slice:ab,stroke:D,"stroke-width":1.5,"stroke-linejoin":"round",fill:L,title:N,cursor:i});if(A){var f=z+k*Math.cos((l+(X-l)/2)*h),e=y+k*Math.sin((l+(X-l)/2)*h);t.animate({slice:[f,e,U,l,X]})}if(C!==""){var m=t.attr();m.href=C;t.attr(m)}t.handle=p;t.cx=z;t.cy=y;H(V,L);K(R,t,l,X);Q(n,t);o(n,t,l,X);q.push(t)}if(R){var W=setTimeout(function(){var ae;var r;for(ae in ac){r=ac[ae];r.slice.animate(r.animation,s)}clearTimeout(W)},200)}function K(af,aj,ae,r){if(af){ab=[z,y,U,ae,r];if(A){var ai=z+k*Math.cos((ae+(r-ae)/2)*h),ah=y+k*Math.sin((ae+(r-ae)/2)*h);ab=[ai,ah,U,ae,r]}var ag=Raphael.animation({slice:ab},s,"backOut");ac[aj.handle]={slice:aj,animation:ag}}}function Q(af,ae){if(af!==""&&af.indexOf("outline")!==-1){var r=d.path().attr({outline:ab,stroke:D,"stroke-width":1.5,"stroke-linejoin":"round",fill:L});ae.outline=r;r.hide()}}function o(al,ak,aj,ag){if(al===""){return}var ae=z,r=y,af=6;if(A){ae=ae+k*Math.cos((aj+(ag-aj)/2)*h),r=r+k*Math.sin((aj+(ag-aj)/2)*h);af+=k}var ai=ae+af*Math.cos((aj+(ag-aj)/2)*h),ah=r+af*Math.sin((aj+(ag-aj)/2)*h);if(al==="shift"){ak.mouseover(function(){ak.stop();ak.animate({slice:[ai,ah,U,aj,ag]})});ak.mouseout(function(){ak.animate({slice:[ae,r,U,aj,ag]})})}else{if(al==="shift-bounce"){ak.mouseover(function(){ak.stop();ak.animate({slice:[ai,ah,U,aj,ag]})});ak.mouseout(function(){ak.animate({slice:[ae,r,U,aj,ag]},s,"bounce")})}else{if(al==="scale"){ak.mouseover(function(){ak.stop();ak.animate({transform:"s1.1 1.1 "+ae+" "+r})});ak.mouseout(function(){ak.animate({transform:"s1 1 "+ae+" "+r})})}else{if(al==="scale-bounce"){ak.mouseover(function(){ak.stop();ak.animate({transform:"s1.1 1.1 "+ae+" "+r})});ak.mouseout(function(){ak.animate({transform:"s1 1 "+ae+" "+r},s,"bounce")})}else{if(al==="outline"){ak.mouseover(function(){ak.outline.show()});ak.mouseout(function(){ak.outline.hide()})}else{if(al==="outline-bounce"){ak.mouseover(function(){ak.outline.show();ak.outline.animate({outline:[ae,r,U+5,aj,ag]})});ak.mouseout(function(){ak.outline.animate({outline:[ae,r,U,aj,ag]},s,"bounce",function(){ak.outline.hide()})})}else{if(al==="shadow"){ak.mouseover(function(){if("undefined"==typeof ak.activeGlow||ak.activeGlow==null){var am=ak.glow({opacity:"0.4",width:"1"});ak.activeGlow=am}ak.activeGlow.show();ak.activeGlow.toFront();ak.toFront()});ak.mouseout(function(){if(ak.activeGlow!=null){ak.activeGlow.hide()}})}}}}}}}}function H(ag,af){if(ag!==""){I+=10;var r=9;var ah=null;var ae={title:ag,fill:af,"fill-rule":"nonzero",stroke:D,"stroke-width":"0.1",cursor:i};if(aa==="rect"){ah=d.path("M "+F+", "+ad+" l 28,0  0,16  -28,0  0,-16z")}else{if(aa==="circle"){ah=d.circle(F+(2*r),ad+r,r)}else{if(aa==="ellipse"){r=10;ah=d.ellipse(F+(2*r),ad+r,1.25*r,r*0.75)}}}if(ah!=null){ah.attr(ae);ah.handle=p;Z.push(ah)}var ai=d.text(b,I,ag);ai.attr({"font-family":c,"font-weight":"normal",fill:"#474747",cursor:i,"font-size":w,"text-anchor":"start"});ai.handle=p;B.push(ai);ad+=30;I=ad}}if(g===true){if(u>0.9){u=0.9}d.circle(z,y,Math.ceil(U*u)).attr({stroke:"none",fill:x})}return{slices:q.items,markers:Z.items,descriptions:B.items}}Raphael.fn.donutpiechart=function(b,e,d,c){return new a(this,b,e,d,c)}})();
